<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Resume Builder Pro</title>
  <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.20.15/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useRef, useEffect } = React;

    const LoginPage = ({ onLogin }) => {
      const [credentials, setCredentials] = useState({
        username: '',
        password: ''
      });
      const [error, setError] = useState('');
      const [isRegistering, setIsRegistering] = useState(false);
      const [users, setUsers] = useState(() => {
        const saved = localStorage.getItem('resumeBuilderUsers');
        return saved ? JSON.parse(saved) : [{username: 'admin', password: 'password123'}];
      });

      useEffect(() => {
        localStorage.setItem('resumeBuilderUsers', JSON.stringify(users));
      }, [users]);

      const handleSubmit = (e) => {
        e.preventDefault();
        const user = users.find(u => u.username === credentials.username);
        
        if (isRegistering) {
          if (user) {
            setError('Username already exists');
          } else if (credentials.password.length < 6) {
            setError('Password must be at least 6 characters');
          } else {
            setUsers([...users, credentials]);
            setError('');
            setIsRegistering(false);
            alert('Registration successful! Please login.');
          }
        } else {
          if (user && user.password === credentials.password) {
            onLogin(credentials.username);
          } else {
            setError('Invalid username or password');
          }
        }
      };

      return (
        <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100">
          <div className="bg-white p-8 rounded-lg shadow-lg w-full max-w-md">
            <h1 className="text-2xl font-bold text-center mb-6 text-gray-800">
              {isRegistering ? 'Register for Resume Builder Pro' : 'Login to Resume Builder Pro'}
            </h1>
            {error && <p className="text-red-500 mb-4 text-center">{error}</p>}
            <form onSubmit={handleSubmit}>
              <div className="mb-4">
                <label className="block text-sm font-medium text-gray-700 mb-1">Username</label>
                <input
                  type="text"
                  className="w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                  value={credentials.username}
                  onChange={(e) => setCredentials({...credentials, username: e.target.value})}
                  required
                />
              </div>
              <div className="mb-6">
                <label className="block text-sm font-medium text-gray-700 mb-1">Password</label>
                <input
                  type="password"
                  className="w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                  value={credentials.password}
                  onChange={(e) => setCredentials({...credentials, password: e.target.value})}
                  required
                />
              </div>
              <button
                type="submit"
                className="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition font-medium"
              >
                {isRegistering ? 'Register' : 'Login'}
              </button>
            </form>
            <div className="mt-4 text-center">
              <button 
                onClick={() => setIsRegistering(!isRegistering)}
                className="text-blue-600 hover:text-blue-800 text-sm font-medium"
              >
                {isRegistering ? 'Already have an account? Login' : 'Need an account? Register'}
              </button>
            </div>
            {!isRegistering && (
              <div className="mt-4 text-center text-sm text-gray-600">
                Demo credentials: admin / password123
              </div>
            )}
          </div>
        </div>
      );
    };

    const ResumeBuilder = ({ username }) => {
      const [formData, setFormData] = useState(() => {
        const savedResume = localStorage.getItem(`resumeData_${username}`);
        return savedResume ? JSON.parse(savedResume) : {
          name: '',
          email: '',
          phone: '',
          address: '',
          linkedin: '',
          github: '',
          website: '',
          summary: '',
          education: [{ institution: '', degree: '', year: '', gpa: '' }],
          experience: [{ company: '', role: '', duration: '', description: '' }],
          certifications: [{ title: '', issuer: '', year: '' }],
          projects: [{ name: '', technologies: '', description: '' }],
          skills: [{ name: '', level: 3 }],
          languages: [{ language: '', proficiency: '' }],
          template: 'classic',
          color: 'blue'
        };
      });
      
      const [errors, setErrors] = useState({});
      const [isSaving, setIsSaving] = useState(false);
      const [saveMessage, setSaveMessage] = useState('');
      const [activeTab, setActiveTab] = useState('personal');
      const resumeRef = useRef(null);
      
      const colorOptions = [
        { name: 'Blue', value: 'blue', class: 'bg-blue-600' },
        { name: 'Green', value: 'green', class: 'bg-green-600' },
        { name: 'Red', value: 'red', class: 'bg-red-600' },
        { name: 'Purple', value: 'purple', class: 'bg-purple-600' },
        { name: 'Indigo', value: 'indigo', class: 'bg-indigo-600' },
        { name: 'Teal', value: 'teal', class: 'bg-teal-600' },
      ];

      useEffect(() => {
        localStorage.setItem(`resumeData_${username}`, JSON.stringify(formData));
      }, [formData, username]);

      const validateForm = () => {
        const newErrors = {};
        if (!formData.name.trim()) newErrors.name = 'Name is required';
        if (!formData.email.trim()) newErrors.email = 'Email is required';
        else if (!/\S+@\S+\.\S+/.test(formData.email)) newErrors.email = 'Invalid email format';
        if (!formData.phone.trim()) newErrors.phone = 'Phone is required';
        setErrors(newErrors);
        return Object.keys(newErrors).length === 0;
      };

      const handleInputChange = (e, section, index, field) => {
        const newFormData = { ...formData };
        if (section === 'personal') {
          newFormData[field] = e.target.value;
        } else if (section === 'skills') {
          if (field === 'level') {
            newFormData.skills[index][field] = parseInt(e.target.value);
          } else {
            newFormData.skills[index][field] = e.target.value;
          }
        } else {
          newFormData[section][index][field] = e.target.value;
        }
        setFormData(newFormData);
        // Clear error for the field being edited
        setErrors((prev) => ({ ...prev, [field]: '' }));
      };

      const addSection = (section) => {
        const newFormData = { ...formData };
        if (section === 'skills') {
          newFormData.skills.push({ name: '', level: 3 });
        } else if (section === 'certifications') {
          newFormData[section].push({ title: '', issuer: '', year: '' });
        } else if (section === 'projects') {
          newFormData[section].push({ name: '', technologies: '', description: '' });
        } else if (section === 'languages') {
          newFormData[section].push({ language: '', proficiency: 'Intermediate' });
        } else if (section === 'education') {
          newFormData[section].push({ institution: '', degree: '', year: '', gpa: '' });
        } else {
          newFormData[section].push(
            section === 'education'
              ? { institution: '', degree: '', year: '', gpa: '' }
              : { company: '', role: '', duration: '', description: '' }
          );
        }
        setFormData(newFormData);
      };

      const removeSection = (section, index) => {
        const newFormData = { ...formData };
        if (newFormData[section].length > 1) {
          newFormData[section].splice(index, 1);
          setFormData(newFormData);
        }
      };

      const saveResume = () => {
        if (!validateForm()) {
          alert('Please fill in all required fields correctly before saving.');
          return;
        }
        setIsSaving(true);
        localStorage.setItem(`resumeData_${username}`, JSON.stringify(formData));
        setSaveMessage('Resume saved successfully!');
        setTimeout(() => {
          setSaveMessage('');
          setIsSaving(false);
        }, 2000);
      };

      const downloadPDF = () => {
        if (!validateForm()) {
          alert('Please fill in all required fields correctly before downloading.');
          return;
        }
        const element = resumeRef.current;
        const opt = {
          margin: 0.5,
          filename: `${formData.name || 'resume'}_${new Date().toISOString().slice(0,10)}.pdf`,
          image: { type: 'jpeg', quality: 0.98 },
          html2canvas: { scale: 2 },
          jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
        };
        html2pdf().set(opt).from(element).save();
      };

      const resetResume = () => {
        if (confirm('Are you sure you want to reset all fields? This cannot be undone.')) {
          setFormData({
            name: '',
            email: '',
            phone: '',
            address: '',
            linkedin: '',
            github: '',
            website: '',
            summary: '',
            education: [{ institution: '', degree: '', year: '', gpa: '' }],
            experience: [{ company: '', role: '', duration: '', description: '' }],
            certifications: [{ title: '', issuer: '', year: '' }],
            projects: [{ name: '', technologies: '', description: '' }],
            skills: [{ name: '', level: 3 }],
            languages: [{ language: '', proficiency: '' }],
            template: 'classic',
            color: 'blue'
          });
        }
      };

      const importResume = (e) => {
        const file = e.target.files[0];
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = (event) => {
          try {
            const importedData = JSON.parse(event.target.result);
            setFormData(importedData);
            alert('Resume imported successfully!');
          } catch (error) {
            alert('Error importing resume. Invalid file format.');
          }
        };
        reader.readAsText(file);
        e.target.value = ''; // Reset input
      };

      const exportResume = () => {
        const dataStr = JSON.stringify(formData, null, 2);
        const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
        
        const exportFileDefaultName = `${formData.name || 'resume'}_${new Date().toISOString().slice(0,10)}.json`;
        
        const linkElement = document.createElement('a');
        linkElement.setAttribute('href', dataUri);
        linkElement.setAttribute('download', exportFileDefaultName);
        linkElement.click();
      };

      const renderSkillLevel = (level) => {
        const filled = '★'.repeat(level);
        const empty = '☆'.repeat(5 - level);
        return (
          <span className="text-yellow-500">
            {filled}{empty}
          </span>
        );
      };

      const renderTemplatePreview = () => {
        switch(formData.template) {
          case 'modern':
            return (
              <div ref={resumeRef} className={`border p-6 rounded-md bg-white shadow-sm ${formData.color === 'blue' ? 'border-blue-200' : 
                formData.color === 'green' ? 'border-green-200' :
                formData.color === 'red' ? 'border-red-200' :
                formData.color === 'purple' ? 'border-purple-200' :
                formData.color === 'indigo' ? 'border-indigo-200' : 'border-teal-200'}`}>
                <div className={`mb-6 p-4 rounded-md ${formData.color === 'blue' ? 'bg-blue-600' : 
                  formData.color === 'green' ? 'bg-green-600' :
                  formData.color === 'red' ? 'bg-red-600' :
                  formData.color === 'purple' ? 'bg-purple-600' :
                  formData.color === 'indigo' ? 'bg-indigo-600' : 'bg-teal-600'} text-white`}>
                  <h3 className="text-3xl font-bold">{formData.name || 'Your Name'}</h3>
                  <div className="flex flex-wrap gap-x-4 mt-2">
                    {formData.email && <span><i className="fas fa-envelope mr-1"></i> {formData.email}</span>}
                    {formData.phone && <span><i className="fas fa-phone mr-1"></i> {formData.phone}</span>}
                    {formData.linkedin && <span><i className="fab fa-linkedin mr-1"></i> {formData.linkedin}</span>}
                    {formData.github && <span><i className="fab fa-github mr-1"></i> {formData.github}</span>}
                  </div>
                </div>
                
                {formData.summary && (
                  <div className="mb-6">
                    <h4 className={`text-lg font-semibold mb-2 ${formData.color === 'blue' ? 'text-blue-700' : 
                      formData.color === 'green' ? 'text-green-700' :
                      formData.color === 'red' ? 'text-red-700' :
                      formData.color === 'purple' ? 'text-purple-700' :
                      formData.color === 'indigo' ? 'text-indigo-700' : 'text-teal-700'}`}>PROFILE</h4>
                    <p className="text-gray-700">{formData.summary}</p>
                  </div>
                )}
                
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    {formData.education.length > 0 && formData.education[0].institution && (
                      <div className="mb-6">
                        <h4 className={`text-lg font-semibold mb-2 ${formData.color === 'blue' ? 'text-blue-700' : 
                          formData.color === 'green' ? 'text-green-700' :
                          formData.color === 'red' ? 'text-red-700' :
                          formData.color === 'purple' ? 'text-purple-700' :
                          formData.color === 'indigo' ? 'text-indigo-700' : 'text-teal-700'}`}>EDUCATION</h4>
                        {formData.education.map((edu, index) => (
                          <div key={index} className="mb-4">
                            <p className="font-medium text-gray-800">{edu.institution || 'Institution'}</p>
                            <p className="text-gray-600">{edu.degree || 'Degree'} - {edu.year || 'Year'}</p>
                            {edu.gpa && <p className="text-gray-600">GPA: {edu.gpa}</p>}
                          </div>
                        ))}
                      </div>
                    )}
                    
                    {formData.skills.length > 0 && formData.skills[0].name && (
                      <div className="mb-6">
                        <h4 className={`text-lg font-semibold mb-2 ${formData.color === 'blue' ? 'text-blue-700' : 
                          formData.color === 'green' ? 'text-green-700' :
                          formData.color === 'red' ? 'text-red-700' :
                          formData.color === 'purple' ? 'text-purple-700' :
                          formData.color === 'indigo' ? 'text-indigo-700' : 'text-teal-700'}`}>SKILLS</h4>
                        <div className="space-y-2">
                          {formData.skills.map((skill, index) => (
                            <div key={index}>
                              <p className="text-gray-800">{skill.name || 'Skill'} {renderSkillLevel(skill.level)}</p>
                            </div>
                          ))}
                        </div>
                      </div>
                    )}
                    
                    {formData.languages.length > 0 && formData.languages[0].language && (
                      <div className="mb-6">
                        <h4 className={`text-lg font-semibold mb-2 ${formData.color === 'blue' ? 'text-blue-700' : 
                          formData.color === 'green' ? 'text-green-700' :
                          formData.color === 'red' ? 'text-red-700' :
                          formData.color === 'purple' ? 'text-purple-700' :
                          formData.color === 'indigo' ? 'text-indigo-700' : 'text-teal-700'}`}>LANGUAGES</h4>
                        <div className="space-y-1">
                          {formData.languages.map((lang, index) => (
                            <p key={index} className="text-gray-700">
                              {lang.language || 'Language'} - {lang.proficiency || 'Proficiency'}
                            </p>
                          ))}
                        </div>
                      </div>
                    )}
                  </div>
                  
                  <div>
                    {formData.experience.length > 0 && formData.experience[0].company && (
                      <div className="mb-6">
                        <h4 className={`text-lg font-semibold mb-2 ${formData.color === 'blue' ? 'text-blue-700' : 
                          formData.color === 'green' ? 'text-green-700' :
                          formData.color === 'red' ? 'text-red-700' :
                          formData.color === 'purple' ? 'text-purple-700' :
                          formData.color === 'indigo' ? 'text-indigo-700' : 'text-teal-700'}`}>EXPERIENCE</h4>
                        {formData.experience.map((exp, index) => (
                          <div key={index} className="mb-4">
                            <p className="font-medium text-gray-800">{exp.company || 'Company'}</p>
                            <p className="text-gray-600">{exp.role || 'Role'} | {exp.duration || 'Duration'}</p>
                            <p className="text-gray-600 text-sm mt-1">{exp.description || 'Description'}</p>
                          </div>
                        ))}
                      </div>
                    )}
                    
                    {formData.projects.length > 0 && formData.projects[0].name && (
                      <div className="mb-6">
                        <h4 className={`text-lg font-semibold mb-2 ${formData.color === 'blue' ? 'text-blue-700' : 
                          formData.color === 'green' ? 'text-green-700' :
                          formData.color === 'red' ? 'text-red-700' :
                          formData.color === 'purple' ? 'text-purple-700' :
                          formData.color === 'indigo' ? 'text-indigo-700' : 'text-teal-700'}`}>PROJECTS</h4>
                        {formData.projects.map((project, index) => (
                          <div key={index} className="mb-4">
                            <p className="font-medium text-gray-800">{project.name || 'Project Name'}</p>
                            {project.technologies && <p className="text-gray-600 text-sm">Technologies: {project.technologies}</p>}
                            <p className="text-gray-600 text-sm mt-1">{project.description || 'Project description'}</p>
                          </div>
                        ))}
                      </div>
                    )}
                    
                    {formData.certifications.length > 0 && formData.certifications[0].title && (
                      <div className="mb-6">
                        <h4 className={`text-lg font-semibold mb-2 ${formData.color === 'blue' ? 'text-blue-700' : 
                          formData.color === 'green' ? 'text-green-700' :
                          formData.color === 'red' ? 'text-red-700' :
                          formData.color === 'purple' ? 'text-purple-700' :
                          formData.color === 'indigo' ? 'text-indigo-700' : 'text-teal-700'}`}>CERTIFICATIONS</h4>
                        {formData.certifications.map((cert, index) => (
                          <div key={index} className="mb-3">
                            <p className="font-medium text-gray-800">{cert.title || 'Certification Title'}</p>
                            <p className="text-gray-600">{cert.issuer || 'Issuer'} - {cert.year || 'Year'}</p>
                          </div>
                        ))}
                      </div>
                    )}
                  </div>
                </div>
              </div>
            );
          case 'creative':
            return (
              <div ref={resumeRef} className="border p-6 rounded-md bg-white shadow-sm">
                <div className="flex flex-col md:flex-row gap-6">
                  <div className={`md:w-1/3 p-4 rounded-md ${formData.color === 'blue' ? 'bg-blue-100' : 
                    formData.color === 'green' ? 'bg-green-100' :
                    formData.color === 'red' ? 'bg-red-100' :
                    formData.color === 'purple' ? 'bg-purple-100' :
                    formData.color === 'indigo' ? 'bg-indigo-100' : 'bg-teal-100'}`}>
                    <div className="text-center mb-4">
                      <div className={`w-24 h-24 mx-auto rounded-full ${formData.color === 'blue' ? 'bg-blue-200' : 
                        formData.color === 'green' ? 'bg-green-200' :
                        formData.color === 'red' ? 'bg-red-200' :
                        formData.color === 'purple' ? 'bg-purple-200' :
                        formData.color === 'indigo' ? 'bg-indigo-200' : 'bg-teal-200'} flex items-center justify-center text-4xl font-bold text-white`}>
                        {formData.name ? formData.name.charAt(0) : 'Y'}
                      </div>
                    </div>
                    
                    <h3 className={`text-xl font-bold mb-2 ${formData.color === 'blue' ? 'text-blue-800' : 
                      formData.color === 'green' ? 'text-green-800' :
                      formData.color === 'red' ? 'text-red-800' :
                      formData.color === 'purple' ? 'text-purple-800' :
                      formData.color === 'indigo' ? 'text-indigo-800' : 'text-teal-800'}`}>
                      {formData.name || 'Your Name'}
                    </h3>
                    
                    <div className="space-y-2 mb-4">
                      {formData.email && (
                        <p className="text-sm">
                          <i className={`fas fa-envelope mr-2 ${formData.color === 'blue' ? 'text-blue-600' : 
                            formData.color === 'green' ? 'text-green-600' :
                            formData.color === 'red' ? 'text-red-600' :
                            formData.color === 'purple' ? 'text-purple-600' :
                            formData.color === 'indigo' ? 'text-indigo-600' : 'text-teal-600'}`}></i>
                          {formData.email}
                        </p>
                      )}
                      {formData.phone && (
                        <p className="text-sm">
                          <i className={`fas fa-phone mr-2 ${formData.color === 'blue' ? 'text-blue-600' : 
                            formData.color === 'green' ? 'text-green-600' :
                            formData.color === 'red' ? 'text-red-600' :
                            formData.color === 'purple' ? 'text-purple-600' :
                            formData.color === 'indigo' ? 'text-indigo-600' : 'text-teal-600'}`}></i>
                          {formData.phone}
                        </p>
                      )}
                      {formData.address && (
                        <p className="text-sm">
                          <i className={`fas fa-map-marker-alt mr-2 ${formData.color === 'blue' ? 'text-blue-600' : 
                            formData.color === 'green' ? 'text-green-600' :
                            formData.color === 'red' ? 'text-red-600' :
                            formData.color === 'purple' ? 'text-purple-600' :
                            formData.color === 'indigo' ? 'text-indigo-600' : 'text-teal-600'}`}></i>
                          {formData.address}
                        </p>
                      )}
                      {formData.linkedin && (
                        <p className="text-sm">
                          <i className={`fab fa-linkedin mr-2 ${formData.color === 'blue' ? 'text-blue-600' : 
                            formData.color === 'green' ? 'text-green-600' :
                            formData.color === 'red' ? 'text-red-600' :
                            formData.color === 'purple' ? 'text-purple-600' :
                            formData.color === 'indigo' ? 'text-indigo-600' : 'text-teal-600'}`}></i>
                          {formData.linkedin}
                        </p>
                      )}
                      {formData.github && (
                        <p className="text-sm">
                          <i className={`fab fa-github mr-2 ${formData.color === 'blue' ? 'text-blue-600' : 
                            formData.color === 'green' ? 'text-green-600' :
                            formData.color === 'red' ? 'text-red-600' :
                            formData.color === 'purple' ? 'text-purple-600' :
                            formData.color === 'indigo' ? 'text-indigo-600' : 'text-teal-600'}`}></i>
                          {formData.github}
                        </p>
                      )}
                    </div>
                    
                    {formData.skills.length > 0 && formData.skills[0].name && (
                      <div className="mb-4">
                        <h4 className={`font-semibold mb-2 ${formData.color === 'blue' ? 'text-blue-800' : 
                          formData.color === 'green' ? 'text-green-800' :
                          formData.color === 'red' ? 'text-red-800' :
                          formData.color === 'purple' ? 'text-purple-800' :
                          formData.color === 'indigo' ? 'text-indigo-800' : 'text-teal-800'}`}>SKILLS</h4>
                        <div className="space-y-2">
                          {formData.skills.map((skill, index) => (
                            <div key={index}>
                              <p className="text-sm text-gray-800">{skill.name || 'Skill'}</p>
                              <div className="w-full bg-gray-200 rounded-full h-2">
                                <div 
                                  className={`h-2 rounded-full ${formData.color === 'blue' ? 'bg-blue-600' : 
                                    formData.color === 'green' ? 'bg-green-600' :
                                    formData.color === 'red' ? 'bg-red-600' :
                                    formData.color === 'purple' ? 'bg-purple-600' :
                                    formData.color === 'indigo' ? 'bg-indigo-600' : 'bg-teal-600'}`} 
                                  style={{ width: `${skill.level * 20}%` }}>
                                </div>
                              </div>
                            </div>
                          ))}
                        </div>
                      </div>
                    )}
                    
                    {formData.languages.length > 0 && formData.languages[0].language && (
                      <div className="mb-4">
                        <h4 className={`font-semibold mb-2 ${formData.color === 'blue' ? 'text-blue-800' : 
                          formData.color === 'green' ? 'text-green-800' :
                          formData.color === 'red' ? 'text-red-800' :
                          formData.color === 'purple' ? 'text-purple-800' :
                          formData.color === 'indigo' ? 'text-indigo-800' : 'text-teal-800'}`}>LANGUAGES</h4>
                        <div className="space-y-1">
                          {formData.languages.map((lang, index) => (
                            <p key={index} className="text-sm text-gray-700">
                              {lang.language || 'Language'} - {lang.proficiency || 'Proficiency'}
                            </p>
                          ))}
                        </div>
                      </div>
                    )}
                  </div>
                  
                  <div className="md:w-2/3">
                    {formData.summary && (
                      <div className="mb-6">
                        <h4 className={`text-lg font-semibold mb-2 ${formData.color === 'blue' ? 'text-blue-800' : 
                          formData.color === 'green' ? 'text-green-800' :
                          formData.color === 'red' ? 'text-red-800' :
                          formData.color === 'purple' ? 'text-purple-800' :
                          formData.color === 'indigo' ? 'text-indigo-800' : 'text-teal-800'}`}>ABOUT ME</h4>
                        <p className="text-gray-700">{formData.summary}</p>
                      </div>
                    )}
                    
                    {formData.experience.length > 0 && formData.experience[0].company && (
                      <div className="mb-6">
                        <h4 className={`text-lg font-semibold mb-2 ${formData.color === 'blue' ? 'text-blue-800' : 
                          formData.color === 'green' ? 'text-green-800' :
                          formData.color === 'red' ? 'text-red-800' :
                          formData.color === 'purple' ? 'text-purple-800' :
                          formData.color === 'indigo' ? 'text-indigo-800' : 'text-teal-800'}`}>EXPERIENCE</h4>
                        {formData.experience.map((exp, index) => (
                          <div key={index} className="mb-4">
                            <div className="flex justify-between">
                              <p className="font-medium text-gray-800">{exp.company || 'Company'}</p>
                              <p className="text-sm text-gray-600">{exp.duration || 'Duration'}</p>
                            </div>
                            <p className="text-gray-600 italic">{exp.role || 'Role'}</p>
                            <p className="text-gray-600 text-sm mt-1">{exp.description || 'Description'}</p>
                          </div>
                        ))}
                      </div>
                    )}
                    
                    {formData.education.length > 0 && formData.education[0].institution && (
                      <div className="mb-6">
                        <h4 className={`text-lg font-semibold mb-2 ${formData.color === 'blue' ? 'text-blue-800' : 
                          formData.color === 'green' ? 'text-green-800' :
                          formData.color === 'red' ? 'text-red-800' :
                          formData.color === 'purple' ? 'text-purple-800' :
                          formData.color === 'indigo' ? 'text-indigo-800' : 'text-teal-800'}`}>EDUCATION</h4>
                        {formData.education.map((edu, index) => (
                          <div key={index} className="mb-4">
                            <div className="flex justify-between">
                              <p className="font-medium text-gray-800">{edu.institution || 'Institution'}</p>
                              <p className="text-sm text-gray-600">{edu.year || 'Year'}</p>
                            </div>
                            <p className="text-gray-600">{edu.degree || 'Degree'}</p>
                            {edu.gpa && <p className="text-gray-600 text-sm">GPA: {edu.gpa}</p>}
                          </div>
                        ))}
                      </div>
                    )}
                    
                    {formData.projects.length > 0 && formData.projects[0].name && (
                      <div className="mb-6">
                        <h4 className={`text-lg font-semibold mb-2 ${formData.color === 'blue' ? 'text-blue-800' : 
                          formData.color === 'green' ? 'text-green-800' :
                          formData.color === 'red' ? 'text-red-800' :
                          formData.color === 'purple' ? 'text-purple-800' :
                          formData.color === 'indigo' ? 'text-indigo-800' : 'text-teal-800'}`}>PROJECTS</h4>
                        {formData.projects.map((project, index) => (
                          <div key={index} className="mb-4">
                            <p className="font-medium text-gray-800">{project.name || 'Project Name'}</p>
                            {project.technologies && (
                              <p className="text-gray-600 text-sm">Technologies: {project.technologies}</p>
                            )}
                            <p className="text-gray-600 text-sm mt-1">{project.description || 'Project description'}</p>
                          </div>
                        ))}
                      </div>
                    )}
                  </div>
                </div>
              </div>
            );
          default: // classic template
            return (
              <div ref={resumeRef} className="border p-6 rounded-md bg-white shadow-sm">
                <div className="text-center mb-4">
                  <h3 className={`text-3xl font-bold ${formData.color === 'blue' ? 'text-blue-700' : 
                    formData.color === 'green' ? 'text-green-700' :
                    formData.color === 'red' ? 'text-red-700' :
                    formData.color === 'purple' ? 'text-purple-700' :
                    formData.color === 'indigo' ? 'text-indigo-700' : 'text-teal-700'}`}>
                    {formData.name || 'Your Name'}
                  </h3>
                  <div className="flex flex-wrap justify-center gap-x-4 text-sm text-gray-600">
                    {formData.email && <span>{formData.email}</span>}
                    {formData.phone && <span>| {formData.phone}</span>}
                    {formData.address && <span>| {formData.address}</span>}
                    {formData.linkedin && <span>| LinkedIn: {formData.linkedin}</span>}
                    {formData.github && <span>| GitHub: {formData.github}</span>}
                  </div>
                </div>
                
                {formData.summary && (
                  <>
                    <h4 className={`text-lg font-semibold text-gray-700 border-b pb-1 mb-3 ${formData.color === 'blue' ? 'border-blue-300' : 
                      formData.color === 'green' ? 'border-green-300' :
                      formData.color === 'red' ? 'border-red-300' :
                      formData.color === 'purple' ? 'border-purple-300' :
                      formData.color === 'indigo' ? 'border-indigo-300' : 'border-teal-300'}`}>PROFESSIONAL SUMMARY</h4>
                    <p className="text-gray-600 mb-4">{formData.summary}</p>
                  </>
                )}
                
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    {formData.education.length > 0 && formData.education[0].institution && (
                      <>
                        <h4 className={`text-lg font-semibold text-gray-700 border-b pb-1 mb-3 ${formData.color === 'blue' ? 'border-blue-300' : 
                          formData.color === 'green' ? 'border-green-300' :
                          formData.color === 'red' ? 'border-red-300' :
                          formData.color === 'purple' ? 'border-purple-300' :
                          formData.color === 'indigo' ? 'border-indigo-300' : 'border-teal-300'}`}>EDUCATION</h4>
                        {formData.education.map((edu, index) => (
                          <div key={index} className="mb-3">
                            <p className="font-medium text-gray-800">{edu.institution || 'Institution'}</p>
                            <p className="text-gray-600">{edu.degree || 'Degree'} - {edu.year || 'Year'}</p>
                            {edu.gpa && <p className="text-gray-600">GPA: {edu.gpa}</p>}
                          </div>
                        ))}
                      </>
                    )}
                    
                    {formData.skills.length > 0 && formData.skills[0].name && (
                      <>
                        <h4 className={`text-lg font-semibold text-gray-700 border-b pb-1 mb-3 mt-4 ${formData.color === 'blue' ? 'border-blue-300' : 
                          formData.color === 'green' ? 'border-green-300' :
                          formData.color === 'red' ? 'border-red-300' :
                          formData.color === 'purple' ? 'border-purple-300' :
                          formData.color === 'indigo' ? 'border-indigo-300' : 'border-teal-300'}`}>SKILLS</h4>
                        <div className="flex flex-wrap gap-2">
                          {formData.skills.map((skill, index) => (
                            <span key={index} className={`bg-gray-100 text-gray-800 text-sm px-3 py-1 rounded-full ${formData.color === 'blue' ? 'border border-blue-200' : 
                              formData.color === 'green' ? 'border border-green-200' :
                              formData.color === 'red' ? 'border border-red-200' :
                              formData.color === 'purple' ? 'border border-purple-200' :
                              formData.color === 'indigo' ? 'border border-indigo-200' : 'border border-teal-200'}`}>
                              {skill.name || 'Skill'} {renderSkillLevel(skill.level)}
                            </span>
                          ))}
                        </div>
                      </>
                    )}
                    
                    {formData.languages.length > 0 && formData.languages[0].language && (
                      <>
                        <h4 className={`text-lg font-semibold text-gray-700 border-b pb-1 mb-3 mt-4 ${formData.color === 'blue' ? 'border-blue-300' : 
                          formData.color === 'green' ? 'border-green-300' :
                          formData.color === 'red' ? 'border-red-300' :
                          formData.color === 'purple' ? 'border-purple-300' :
                          formData.color === 'indigo' ? 'border-indigo-300' : 'border-teal-300'}`}>LANGUAGES</h4>
                        <div className="space-y-1">
                          {formData.languages.map((lang, index) => (
                            <p key={index} className="text-gray-700">
                              {lang.language || 'Language'} - {lang.proficiency || 'Proficiency'}
                            </p>
                          ))}
                        </div>
                      </>
                    )}
                  </div>
                  
                  <div>
                    {formData.experience.length > 0 && formData.experience[0].company && (
                      <>
                        <h4 className={`text-lg font-semibold text-gray-700 border-b pb-1 mb-3 ${formData.color === 'blue' ? 'border-blue-300' : 
                          formData.color === 'green' ? 'border-green-300' :
                          formData.color === 'red' ? 'border-red-300' :
                          formData.color === 'purple' ? 'border-purple-300' :
                          formData.color === 'indigo' ? 'border-indigo-300' : 'border-teal-300'}`}>EXPERIENCE</h4>
                        {formData.experience.map((exp, index) => (
                          <div key={index} className="mb-3">
                            <p className="font-medium text-gray-800">{exp.company || 'Company'}</p>
                            <p className="text-gray-600">{exp.role || 'Role'} | {exp.duration || 'Duration'}</p>
                            <p className="text-gray-600 text-sm mt-1">{exp.description || 'Description'}</p>
                          </div>
                        ))}
                      </>
                    )}
                    
                    {formData.projects.length > 0 && formData.projects[0].name && (
                      <>
                        <h4 className={`text-lg font-semibold text-gray-700 border-b pb-1 mb-3 mt-4 ${formData.color === 'blue' ? 'border-blue-300' : 
                          formData.color === 'green' ? 'border-green-300' :
                          formData.color === 'red' ? 'border-red-300' :
                          formData.color === 'purple' ? 'border-purple-300' :
                          formData.color === 'indigo' ? 'border-indigo-300' : 'border-teal-300'}`}>PROJECTS</h4>
                        {formData.projects.map((project, index) => (
                          <div key={index} className="mb-3">
                            <p className="font-medium text-gray-800">{project.name || 'Project Name'}</p>
                            {project.technologies && <p className="text-gray-600 text-sm">Technologies: {project.technologies}</p>}
                            <p className="text-gray-600 text-sm mt-1">{project.description || 'Project description'}</p>
                          </div>
                        ))}
                      </>
                    )}
                    
                    {formData.certifications.length > 0 && formData.certifications[0].title && (
                      <>
                        <h4 className={`text-lg font-semibold text-gray-700 border-b pb-1 mb-3 mt-4 ${formData.color === 'blue' ? 'border-blue-300' : 
                          formData.color === 'green' ? 'border-green-300' :
                          formData.color === 'red' ? 'border-red-300' :
                          formData.color === 'purple' ? 'border-purple-300' :
                          formData.color === 'indigo' ? 'border-indigo-300' : 'border-teal-300'}`}>CERTIFICATIONS</h4>
                        {formData.certifications.map((cert, index) => (
                          <div key={index} className="mb-3">
                            <p className="font-medium text-gray-800">{cert.title || 'Certification Title'}</p>
                            <p className="text-gray-600">{cert.issuer || 'Issuer'} - {cert.year || 'Year'}</p>
                          </div>
                        ))}
                      </>
                    )}
                  </div>
                </div>
              </div>
            );
        }
      };

      return (
        <div className="container mx-auto p-4 max-w-7xl">
          <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
            <h1 className="text-3xl font-bold text-gray-800">Resume Builder Pro</h1>
            <div className="flex flex-wrap gap-2">
              <button
                onClick={saveResume}
                disabled={isSaving}
                className="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition flex items-center gap-2"
              >
                <i className="fas fa-save"></i>
                {isSaving ? 'Saving...' : 'Save Resume'}
              </button>
              <button
                onClick={downloadPDF}
                className="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition flex items-center gap-2"
              >
                <i className="fas fa-file-pdf"></i>
                Download PDF
              </button>
              <button
                onClick={exportResume}
                className="bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition flex items-center gap-2"
              >
                <i className="fas fa-file-export"></i>
                Export
              </button>
              <label className="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition flex items-center gap-2 cursor-pointer">
                <i className="fas fa-file-import"></i>
                Import
                <input type="file" accept=".json" onChange={importResume} className="hidden" />
              </label>
              <button
                onClick={resetResume}
                className="bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition flex items-center gap-2"
              >
                <i className="fas fa-trash-alt"></i>
                Reset
              </button>
            </div>
          </div>
          
          {saveMessage && (
            <div className="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4">
              {saveMessage}
            </div>
          )}

          <div className="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
            <div className="lg:col-span-1 bg-white p-4 rounded-lg shadow-md">
              <h2 className="text-xl font-semibold mb-4">Template & Color</h2>
              <div className="mb-4">
                <label className="block text-sm font-medium text-gray-700 mb-2">Select Template</label>
                <div className="grid grid-cols-3 gap-2">
                  <button
                    onClick={() => setFormData({...formData, template: 'classic'})}
                    className={`p-2 border rounded-md ${formData.template === 'classic' ? 'border-blue-500 bg-blue-50' : 'border-gray-300'}`}
                  >
                    Classic
                  </button>
                  <button
                    onClick={() => setFormData({...formData, template: 'modern'})}
                    className={`p-2 border rounded-md ${formData.template === 'modern' ? 'border-blue-500 bg-blue-50' : 'border-gray-300'}`}
                  >
                    Modern
                  </button>
                  <button
                    onClick={() => setFormData({...formData, template: 'creative'})}
                    className={`p-2 border rounded-md ${formData.template === 'creative' ? 'border-blue-500 bg-blue-50' : 'border-gray-300'}`}
                  >
                    Creative
                  </button>
                </div>
              </div>
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">Select Color</label>
                <div className="grid grid-cols-6 gap-2">
                  {colorOptions.map((color) => (
                    <button
                      key={color.value}
                      onClick={() => setFormData({...formData, color: color.value})}
                      className={`w-8 h-8 rounded-full ${color.class} ${formData.color === color.value ? 'ring-2 ring-offset-2 ring-gray-400' : ''}`}
                      title={color.name}
                    />
                  ))}
                </div>
              </div>
            </div>
            
            <div className="lg:col-span-2 bg-white p-4 rounded-lg shadow-md">
              <h2 className="text-xl font-semibold mb-4">Resume Preview</h2>
              <div className="border p-2 rounded-md">
                {renderTemplatePreview()}
              </div>
            </div>
          </div>

          <div className="bg-white p-4 rounded-lg shadow-md">
            <div className="flex flex-wrap gap-2 mb-4 border-b pb-2">
              <button
                onClick={() => setActiveTab('personal')}
                className={`px-4 py-2 rounded-md ${activeTab === 'personal' ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-700'}`}
              >
                Personal Info
              </button>
              <button
                onClick={() => setActiveTab('education')}
                className={`px-4 py-2 rounded-md ${activeTab === 'education' ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-700'}`}
              >
                Education
              </button>
              <button
                onClick={() => setActiveTab('experience')}
                className={`px-4 py-2 rounded-md ${activeTab === 'experience' ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-700'}`}
              >
                Experience
              </button>
              <button
                onClick={() => setActiveTab('skills')}
                className={`px-4 py-2 rounded-md ${activeTab === 'skills' ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-700'}`}
              >
                Skills
              </button>
              <button
                onClick={() => setActiveTab('projects')}
                className={`px-4 py-2 rounded-md ${activeTab === 'projects' ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-700'}`}
              >
                Projects
              </button>
              <button
                onClick={() => setActiveTab('certifications')}
                className={`px-4 py-2 rounded-md ${activeTab === 'certifications' ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-700'}`}
              >
                Certifications
              </button>
              <button
                onClick={() => setActiveTab('languages')}
                className={`px-4 py-2 rounded-md ${activeTab === 'languages' ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-700'}`}
              >
                Languages
              </button>
            </div>

            {activeTab === 'personal' && (
              <div>
                <h2 className="text-xl font-semibold mb-4">Personal Information</h2>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label className="block text-sm font-medium text-gray-700">Name *</label>
                    <input
                      type="text"
                      className={`mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${errors.name ? 'border-red-500' : ''}`}
                      value={formData.name}
                      onChange={(e) => handleInputChange(e, 'personal', null, 'name')}
                    />
                    {errors.name && <p className="text-red-500 text-sm mt-1">{errors.name}</p>}
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-gray-700">Email *</label>
                    <input
                      type="email"
                      className={`mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${errors.email ? 'border-red-500' : ''}`}
                      value={formData.email}
                      onChange={(e) => handleInputChange(e, 'personal', null, 'email')}
                    />
                    {errors.email && <p className="text-red-500 text-sm mt-1">{errors.email}</p>}
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-gray-700">Phone *</label>
                    <input
                      type="tel"
                      className={`mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${errors.phone ? 'border-red-500' : ''}`}
                      value={formData.phone}
                      onChange={(e) => handleInputChange(e, 'personal', null, 'phone')}
                    />
                    {errors.phone && <p className="text-red-500 text-sm mt-1">{errors.phone}</p>}
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-gray-700">Address</label>
                    <input
                      type="text"
                      className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                      value={formData.address}
                      onChange={(e) => handleInputChange(e, 'personal', null, 'address')}
                    />
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-gray-700">LinkedIn</label>
                    <input
                      type="url"
                      className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                      value={formData.linkedin}
                      onChange={(e) => handleInputChange(e, 'personal', null, 'linkedin')}
                      placeholder="https://linkedin.com/in/username"
                    />
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-gray-700">GitHub</label>
                    <input
                      type="url"
                      className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                      value={formData.github}
                      onChange={(e) => handleInputChange(e, 'personal', null, 'github')}
                      placeholder="https://github.com/username"
                    />
                  </div>
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700">Personal Website</label>
                    <input
                      type="url"
                      className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                      value={formData.website}
                      onChange={(e) => handleInputChange(e, 'personal', null, 'website')}
                      placeholder="https://yourwebsite.com"
                    />
                  </div>
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700">Professional Summary</label>
                    <textarea
                      className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                      value={formData.summary}
                      onChange={(e) => handleInputChange(e, 'personal', null, 'summary')}
                      placeholder="Brief summary of your professional background"
                      rows="4"
                    />
                  </div>
                </div>
              </div>
            )}

            {activeTab === 'education' && (
              <div>
                <div className="flex justify-between items-center mb-4">
                  <h2 className="text-xl font-semibold">Education</h2>
                  <button
                    className="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition"
                    onClick={() => addSection('education')}
                  >
                    Add Education
                  </button>
                </div>
                {formData.education.map((edu, index) => (
                  <div key={index} className="mb-6 border-b pb-6 last:border-b-0">
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div>
                        <label className="block text-sm font-medium text-gray-700">Institution *</label>
                        <input
                          type="text"
                          className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                          placeholder="University Name"
                          value={edu.institution}
                          onChange={(e) => handleInputChange(e, 'education', index, 'institution')}
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-700">Degree *</label>
                        <input
                          type="text"
                          className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                          placeholder="Bachelor of Science"
                          value={edu.degree}
                          onChange={(e) => handleInputChange(e, 'education', index, 'degree')}
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-700">Year *</label>
                        <input
                          type="text"
                          className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                          placeholder="2015 - 2019"
                          value={edu.year}
                          onChange={(e) => handleInputChange(e, 'education', index, 'year')}
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-700">GPA</label>
                        <input
                          type="text"
                          className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                          placeholder="3.8/4.0"
                          value={edu.gpa}
                          onChange={(e) => handleInputChange(e, 'education', index, 'gpa')}
                        />
                      </div>
                    </div>
                    {formData.education.length > 1 && (
                      <button
                        className="mt-2 text-red-500 text-sm flex items-center gap-1"
                        onClick={() => removeSection('education', index)}
                      >
                        <i className="fas fa-trash-alt"></i>
                        Remove Education
                      </button>
                    )}
                  </div>
                ))}
              </div>
            )}

            {activeTab === 'experience' && (
              <div>
                <div className="flex justify-between items-center mb-4">
                  <h2 className="text-xl font-semibold">Work Experience</h2>
                  <button
                    className="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition"
                    onClick={() => addSection('experience')}
                  >
                    Add Experience
                  </button>
                </div>
                {formData.experience.map((exp, index) => (
                  <div key={index} className="mb-6 border-b pb-6 last:border-b-0">
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div>
                        <label className="block text-sm font-medium text-gray-700">Company *</label>
                        <input
                          type="text"
                          className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                          placeholder="Company Name"
                          value={exp.company}
                          onChange={(e) => handleInputChange(e, 'experience', index, 'company')}
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-700">Role *</label>
                        <input
                          type="text"
                          className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                          placeholder="Job Title"
                          value={exp.role}
                          onChange={(e) => handleInputChange(e, 'experience', index, 'role')}
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-700">Duration *</label>
                        <input
                          type="text"
                          className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                          placeholder="Jan 2020 - Present"
                          value={exp.duration}
                          onChange={(e) => handleInputChange(e, 'experience', index, 'duration')}
                        />
                      </div>
                    </div>
                    <div className="mt-4">
                      <label className="block text-sm font-medium text-gray-700">Description</label>
                      <textarea
                        className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                        placeholder="Describe your responsibilities and achievements"
                        value={exp.description}
                        onChange={(e) => handleInputChange(e, 'experience', index, 'description')}
                        rows="4"
                      />
                    </div>
                    {formData.experience.length > 1 && (
                      <button
                        className="mt-2 text-red-500 text-sm flex items-center gap-1"
                        onClick={() => removeSection('experience', index)}
                      >
                        <i className="fas fa-trash-alt"></i>
                        Remove Experience
                      </button>
                    )}
                  </div>
                ))}
              </div>
            )}

            {activeTab === 'skills' && (
              <div>
                <div className="flex justify-between items-center mb-4">
                  <h2 className="text-xl font-semibold">Skills</h2>
                  <button
                    className="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition"
                    onClick={() => addSection('skills')}
                  >
                    Add Skill
                  </button>
                </div>
                {formData.skills.map((skill, index) => (
                  <div key={index} className="mb-4 border-b pb-4 last:border-b-0">
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div>
                        <label className="block text-sm font-medium text-gray-700">Skill Name *</label>
                        <input
                          type="text"
                          className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                          placeholder="JavaScript"
                          value={skill.name}
                          onChange={(e) => handleInputChange(e, 'skills', index, 'name')}
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-700">Proficiency Level</label>
                        <select
                          className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                          value={skill.level}
                          onChange={(e) => handleInputChange(e, 'skills', index, 'level')}
                        >
                          <option value="1">Beginner (1 star)</option>
                          <option value="2">Basic (2 stars)</option>
                          <option value="3">Intermediate (3 stars)</option>
                          <option value="4">Advanced (4 stars)</option>
                          <option value="5">Expert (5 stars)</option>
                        </select>
                      </div>
                    </div>
                    {formData.skills.length > 1 && (
                      <button
                        className="mt-2 text-red-500 text-sm flex items-center gap-1"
                        onClick={() => removeSection('skills', index)}
                      >
                        <i className="fas fa-trash-alt"></i>
                        Remove Skill
                      </button>
                    )}
                  </div>
                ))}
              </div>
            )}

            {activeTab === 'projects' && (
              <div>
                <div className="flex justify-between items-center mb-4">
                  <h2 className="text-xl font-semibold">Projects</h2>
                  <button
                    className="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition"
                    onClick={() => addSection('projects')}
                  >
                    Add Project
                  </button>
                </div>
                {formData.projects.map((project, index) => (
                  <div key={index} className="mb-6 border-b pb-6 last:border-b-0">
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div>
                        <label className="block text-sm font-medium text-gray-700">Project Name *</label>
                        <input
                          type="text"
                          className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                          placeholder="Project Name"
                          value={project.name}
                          onChange={(e) => handleInputChange(e, 'projects', index, 'name')}
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-700">Technologies Used</label>
                        <input
                          type="text"
                          className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                          placeholder="React, Node.js, MongoDB"
                          value={project.technologies}
                          onChange={(e) => handleInputChange(e, 'projects', index, 'technologies')}
                        />
                      </div>
                    </div>
                    <div className="mt-4">
                      <label className="block text-sm font-medium text-gray-700">Description</label>
                      <textarea
                        className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                        placeholder="Describe the project and your contributions"
                        value={project.description}
                        onChange={(e) => handleInputChange(e, 'projects', index, 'description')}
                        rows="4"
                      />
                    </div>
                    {formData.projects.length > 1 && (
                      <button
                        className="mt-2 text-red-500 text-sm flex items-center gap-1"
                        onClick={() => removeSection('projects', index)}
                      >
                        <i className="fas fa-trash-alt"></i>
                        Remove Project
                      </button>
                    )}
                  </div>
                ))}
              </div>
            )}

            {activeTab === 'certifications' && (
              <div>
                <div className="flex justify-between items-center mb-4">
                  <h2 className="text-xl font-semibold">Certifications</h2>
                  <button
                    className="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition"
                    onClick={() => addSection('certifications')}
                  >
                    Add Certification
                  </button>
                </div>
                {formData.certifications.map((cert, index) => (
                  <div key={index} className="mb-6 border-b pb-6 last:border-b-0">
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div>
                        <label className="block text-sm font-medium text-gray-700">Certification Title *</label>
                        <input
                          type="text"
                          className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                          placeholder="AWS Certified Developer"
                          value={cert.title}
                          onChange={(e) => handleInputChange(e, 'certifications', index, 'title')}
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-700">Issuing Organization *</label>
                        <input
                          type="text"
                          className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                          placeholder="Amazon Web Services"
                          value={cert.issuer}
                          onChange={(e) => handleInputChange(e, 'certifications', index, 'issuer')}
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-700">Year Obtained *</label>
                        <input
                          type="text"
                          className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                          placeholder="2022"
                          value={cert.year}
                          onChange={(e) => handleInputChange(e, 'certifications', index, 'year')}
                        />
                      </div>
                    </div>
                    {formData.certifications.length > 1 && (
                      <button
                        className="mt-2 text-red-500 text-sm flex items-center gap-1"
                        onClick={() => removeSection('certifications', index)}
                      >
                        <i className="fas fa-trash-alt"></i>
                        Remove Certification
                      </button>
                    )}
                  </div>
                ))}
              </div>
            )}

            {activeTab === 'languages' && (
              <div>
                <div className="flex justify-between items-center mb-4">
                  <h2 className="text-xl font-semibold">Languages</h2>
                  <button
                    className="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition"
                    onClick={() => addSection('languages')}
                  >
                    Add Language
                  </button>
                </div>
                {formData.languages.map((lang, index) => (
                  <div key={index} className="mb-6 border-b pb-6 last:border-b-0">
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div>
                        <label className="block text-sm font-medium text-gray-700">Language *</label>
                        <input
                          type="text"
                          className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                          placeholder="Spanish"
                          value={lang.language}
                          onChange={(e) => handleInputChange(e, 'languages', index, 'language')}
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-700">Proficiency Level *</label>
                        <select
                          className="mt-1 p-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                          value={lang.proficiency}
                          onChange={(e) => handleInputChange(e, 'languages', index, 'proficiency')}
                        >
                          <option value="Basic">Basic</option>
                          <option value="Intermediate">Intermediate</option>
                          <option value="Advanced">Advanced</option>
                          <option value="Native">Native</option>
                          <option value="Fluent">Fluent</option>
                        </select>
                      </div>
                    </div>
                    {formData.languages.length > 1 && (
                      <button
                        className="mt-2 text-red-500 text-sm flex items-center gap-1"
                        onClick={() => removeSection('languages', index)}
                      >
                        <i className="fas fa-trash-alt"></i>
                        Remove Language
                      </button>
                    )}
                  </div>
                ))}
              </div>
            )}
          </div>
        </div>
      );
    };

    const App = () => {
      const [isLoggedIn, setIsLoggedIn] = useState(false);
      const [username, setUsername] = useState('');

      const handleLogin = (loggedInUsername) => {
        setIsLoggedIn(true);
        setUsername(loggedInUsername);
      };

      return (
        <>
          {!isLoggedIn ? (
            <LoginPage onLogin={handleLogin} />
          ) : (
            <>
              <div className="bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-4 flex justify-between items-center shadow-md">
                <div className="flex items-center gap-2">
                  <i className="fas fa-file-alt text-xl"></i>
                  <h1 className="text-xl font-bold">Resume Builder Pro</h1>
                </div>
                <div className="flex items-center gap-4">
                  <span className="hidden sm:inline">Welcome, {username}</span>
                  <button 
                    onClick={() => setIsLoggedIn(false)}
                    className="bg-white text-blue-600 px-4 py-1 rounded-md hover:bg-gray-100 transition flex items-center gap-2"
                  >
                    <i className="fas fa-sign-out-alt"></i>
                    Logout
                  </button>
                </div>
              </div>
              <ResumeBuilder username={username} />
            </>
          )}
        </>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>